2025-06-02 23:44:01,322 - app - INFO - Using static folder: /workspace/modules/static
2025-06-02 23:44:01,323 - app - INFO - Using template folder: /workspace/modules/blueprints/templates
Server initialized for eventlet.
2025-06-02 23:44:01,390 - engineio.server - INFO - Server initialized for eventlet.
2025-06-02 23:44:01,613 - blueprints.core.utils - WARNING - python-magic not available. Try installing python-magic-bin on Windows
2025-06-02 23:44:01,725 - blueprints.core.http_client - INFO - HTTP session created with retry strategy
2025-06-02 23:44:09,747 - file_processor - INFO - Successfully patched pytesseract to ignore temp file deletion errors
2025-06-02 23:44:09,747 - file_processor - INFO - Successfully patched pytesseract to ignore temp file deletion errors
2025-06-02 23:44:09,750 - file_processor - INFO - Started temp file cleanup service
2025-06-02 23:44:09,750 - file_processor - INFO - Started temp file cleanup service
üöÄ Starting NeuroGen Server (Blueprint Architecture)
==================================================
üìç Server URL: http://127.0.0.1:5025
üîß Debug mode: False
üìÅ Working directory: /workspace/modules
==================================================
2025-06-02 23:44:10,562 - INFO - PyMuPDF (fitz) version ('1.26.0', '1.26.1', '20250522000001') detected
2025-06-02 23:44:10,562 - pdf_extractor - INFO - PyMuPDF (fitz) version ('1.26.0', '1.26.1', '20250522000001') detected
2025-06-02 23:44:10,726 - INFO - PyPDF2 version 3.0.1 detected
2025-06-02 23:44:10,726 - pdf_extractor - INFO - PyPDF2 version 3.0.1 detected
2025-06-02 23:44:10,727 - WARNING - pdfplumber not available. Install with: pip install pdfplumber
2025-06-02 23:44:10,727 - pdf_extractor - WARNING - pdfplumber not available. Install with: pip install pdfplumber
2025-06-02 23:44:10,746 - INFO - Tabula detected for table extraction
2025-06-02 23:44:10,746 - pdf_extractor - INFO - Tabula detected for table extraction
2025-06-02 23:44:10,747 - INFO - OCR available with Tesseract and PIL/Pillow
2025-06-02 23:44:10,747 - pdf_extractor - INFO - OCR available with Tesseract and PIL/Pillow
2025-06-02 23:44:10,751 - WARNING - Failed to find Java in PATH: [Errno 2] No such file or directory: 'where'
2025-06-02 23:44:10,751 - pdf_extractor - WARNING - Failed to find Java in PATH: [Errno 2] No such file or directory: 'where'
2025-06-02 23:44:10,756 - WARNING - Java installation not found. Table extraction with Tabula will not be available.
2025-06-02 23:44:10,756 - pdf_extractor - WARNING - Java installation not found. Table extraction with Tabula will not be available.
2025-06-02 23:44:10,758 - file_processor - INFO - Successfully imported pdf_extractor module
2025-06-02 23:44:10,758 - file_processor - INFO - Successfully imported pdf_extractor module
2025-06-02 23:44:10,759 - INFO - Initializing PDF extractor module...
2025-06-02 23:44:10,759 - pdf_extractor - INFO - Initializing PDF extractor module...
2025-06-02 23:44:10,762 - file_processor - WARNING - Failed to initialize pdf_extractor: name 'JAVA_AVAILABLE' is not defined
2025-06-02 23:44:10,762 - file_processor - WARNING - Failed to initialize pdf_extractor: name 'JAVA_AVAILABLE' is not defined
2025-06-02 23:44:10,775 - pdf_output_enhancer - INFO - PDF Output Enhancer module imported. Call init_improved_output_format() to initialize.
2025-06-02 23:44:10,775 - file_processor - INFO - Successfully imported pdf_output_enhancer module
2025-06-02 23:44:10,775 - file_processor - INFO - Successfully imported pdf_output_enhancer module
2025-06-02 23:44:10,777 - Structify - INFO - Successfully imported claude.py from Structify package
2025-06-02 23:44:10,777 - structify_import - INFO - Successfully imported claude.py module from Structify package
2025-06-02 23:44:10,777 - blueprints.core.structify_integration - INFO - Set structify TEMP_OCR_DIR to: /workspace/modules/blueprints/core/../../temp
2025-06-02 23:44:10,797 - file_processor - INFO - Tesseract language data already exists at /workspace/modules/blueprints/core/../../temp/tessdata/eng.traineddata
2025-06-02 23:44:10,797 - file_processor - INFO - Tesseract language data already exists at /workspace/modules/blueprints/core/../../temp/tessdata/eng.traineddata
2025-06-02 23:44:10,798 - file_processor - INFO - OCR environment initialized with TESSDATA_PREFIX=/workspace/modules/temp/tessdata
2025-06-02 23:44:10,798 - file_processor - INFO - OCR environment initialized with TESSDATA_PREFIX=/workspace/modules/temp/tessdata
2025-06-02 23:44:10,798 - blueprints.core.structify_integration - INFO - Initialized structify OCR environment
2025-06-02 23:44:10,798 - file_processor - INFO - Successfully patched pytesseract to use temp directory: /workspace/modules/blueprints/core/../../temp
2025-06-02 23:44:10,798 - file_processor - INFO - Successfully patched pytesseract to use temp directory: /workspace/modules/blueprints/core/../../temp
2025-06-02 23:44:10,799 - blueprints.core.structify_integration - INFO - Patched pytesseract temp directory
2025-06-02 23:44:10,809 - blueprints.core.structify_integration - INFO - Successfully loaded structify_module and components
2025-06-02 23:44:10,832 - blueprints.core.ocr_config - WARNING - pikepdf not available. Some PDF repair functions will be limited.
2025-06-02 23:44:10,844 - blueprints.core.ocr_config - INFO - Set full permissions on temp directory: /workspace/modules/temp
2025-06-02 23:44:10,845 - blueprints.core.ocr_config - INFO - Set TESSDATA_PREFIX to: /workspace/modules/temp/tessdata
2025-06-02 23:44:10,845 - blueprints.core.ocr_config - INFO - Set temp directory environment variables to: /workspace/modules/temp
2025-06-02 23:44:10,850 - blueprints.core.ocr_config - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-06-02 23:44:10,851 - blueprints.core.ocr_config - INFO - OCR environment initialized successfully (singleton)
2025-06-02 23:44:10,864 - blueprints.core.ocr_config - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-06-02 23:44:10,865 - blueprints.core.ocr_config - INFO - Successfully imported pdf_extractor module
2025-06-02 23:44:10,865 - INFO - Initializing PDF extractor module...
2025-06-02 23:44:10,865 - pdf_extractor - INFO - Initializing PDF extractor module...
2025-06-02 23:44:10,867 - blueprints.core.ocr_config - ERROR - Error initializing PDF extractor: name 'JAVA_AVAILABLE' is not defined
2025-06-02 23:44:10,884 - safe_ocr_handler - INFO - Set TESSDATA_PREFIX to: /workspace/modules/temp/tessdata
2025-06-02 23:44:10,893 - safe_ocr_handler - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-06-02 23:44:10,894 - safe_ocr_handler - WARNING - Tesseract executable not found at: C:\Program Files\Tesseract-OCR\tesseract.exe
2025-06-02 23:44:10,894 - safe_ocr_handler - INFO - Successfully patched pytesseract for better temp file handling
2025-06-02 23:44:12,497 - safe_ocr_handler - INFO - Started periodic cleanup service for /workspace/modules/temp
2025-06-02 23:44:12,503 - safe_ocr_handler - INFO - Set TESSDATA_PREFIX to: /workspace/modules/temp/tessdata
2025-06-02 23:44:12,512 - safe_ocr_handler - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-06-02 23:44:12,513 - blueprints.core.ocr_config - INFO - OCR environment set up with temp directory: /workspace/modules/temp
2025-06-02 23:44:12,514 - safe_ocr_handler - WARNING - Tesseract executable not found at: C:\Program Files\Tesseract-OCR\tesseract.exe
2025-06-02 23:44:12,514 - safe_ocr_handler - INFO - Successfully patched pytesseract for better temp file handling
2025-06-02 23:44:13,102 - safe_ocr_handler - INFO - Started periodic cleanup service for /workspace/modules/temp
2025-06-02 23:44:13,103 - blueprints.core.ocr_config - INFO - OCR handler initialized successfully
2025-06-02 23:44:13,120 - blueprints.core.ocr_config - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-06-02 23:44:13,749 - structify_import - INFO - Successfully imported claude.py module from Structify package
2025-06-02 23:44:13,750 - INFO - Claude module is available for processing
2025-06-02 23:44:13,750 - web_scraper - INFO - Claude module is available for processing
2025-06-02 23:44:13,751 - INFO - PDF extractor module is available
2025-06-02 23:44:13,751 - web_scraper - INFO - PDF extractor module is available
2025-06-02 23:44:20,022 - blueprints.features.file_utils - WARNING - python-magic not available. Try installing python-magic-bin on Windows
2025-06-02 23:44:20,072 - blueprints.core.services - INFO - Loaded 1 API keys
2025-06-02 23:44:20,083 - socketio_context_helper - INFO - Unified SocketIO Context Helper v4.0 loaded - Complete Blueprint alignment enabled
2025-06-02 23:44:20,083 - socketio_context_helper - INFO - Unified SocketIO context helper v4.0 initialized
2025-06-02 23:44:20,084 - blueprints.socketio_events - INFO - SocketIO Events context initialized for background threads
2025-06-02 23:44:20,305 - task_api_routes - INFO - Task history module loaded successfully
2025-06-02 23:44:20,324 - task_api_routes - INFO - Task API routes registered
2025-06-02 23:44:20,326 - app - INFO - All blueprints registered successfully
2025-06-02 23:44:20,327 - blueprints.socketio_events - INFO - SocketIO events registered successfully
2025-06-02 23:44:20,328 - app - INFO - NeuroGen Server application created successfully
2025-06-02 23:44:20,328 - app - INFO - Starting NeuroGen Server on 127.0.0.1:5025
2025-06-02 23:44:20,331 - app - INFO - Debug mode: False
2025-06-02 23:44:52,445 - blueprints.features.file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/working_test.json, output_dir=None
2025-06-02 23:44:52,447 - blueprints.features.file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/working_test.json
2025-06-02 23:44:52,447 - blueprints.features.file_processor - INFO - Resolved output path: /workspace/modules/test_output/working_test.json
2025-06-02 23:44:52,447 - blueprints.core.services - INFO - BaseTask 804203b7-94c2-4306-b8d6-ddda16428c38 (file_processing) created.
2025-06-02 23:44:52,481 - blueprints.core.services - INFO - Calibrated processing parameters: max_memory=2048MB, batch_size=25, gc_threshold=1536MB
2025-06-02 23:44:52,487 - blueprints.core.services - INFO - Added task 804203b7-94c2-4306-b8d6-ddda16428c38 to active tasks
2025-06-02 23:44:52,488 - blueprints.api.management - INFO - Registered new task 804203b7-94c2-4306-b8d6-ddda16428c38 of type file_processing
emitting event "progress_update" to all [/]
2025-06-02 23:44:52,522 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-02 23:44:52,525 - blueprints.core.services - INFO - Task 804203b7-94c2-4306-b8d6-ddda16428c38 (file_processing) started processing.
2025-06-02 23:44:52,527 - blueprints.socketio_events - ERROR - Error emitting task_started: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-06-02 23:44:52,527 - blueprints.core.services - WARNING - Failed to emit task_started for 804203b7-94c2-4306-b8d6-ddda16428c38
2025-06-02 23:44:52,529 - blueprints.core.services - INFO - Task 804203b7-94c2-4306-b8d6-ddda16428c38 (file_processing) thread started.
2025-06-02 23:44:52,529 - blueprints.features.file_processor - INFO - Started processing task: 804203b7-94c2-4306-b8d6-ddda16428c38 for input directory: /workspace/modules/test_input
2025-06-02 23:44:52,560 - blueprints.core.services - INFO - Task 804203b7-94c2-4306-b8d6-ddda16428c38: Starting enhanced file processing for directory: /workspace/modules/test_input
2025-06-02 23:44:52,562 - blueprints.core.services - INFO - Task 804203b7-94c2-4306-b8d6-ddda16428c38 progress: 1% - Processing files in /workspace/modules/test_input with enhanced analytics...
2025-06-02 23:44:52,563 - blueprints.core.services - INFO - Using optimized file processor from blueprints.features.file_processor
2025-06-02 23:44:52,573 - blueprints.core.services - INFO - Starting main processing with batch_size=25, chunk_size=4096
2025-06-02 23:44:53,035 - file_processor - INFO - Successfully patched pytesseract to ignore temp file deletion errors
2025-06-02 23:44:53,035 - file_processor - INFO - Successfully patched pytesseract to ignore temp file deletion errors
2025-06-02 23:44:53,036 - file_processor - INFO - Started temp file cleanup service
2025-06-02 23:44:53,036 - file_processor - INFO - Started temp file cleanup service
2025-06-02 23:44:53,041 - file_processor - INFO - Successfully imported pdf_extractor module
2025-06-02 23:44:53,041 - file_processor - INFO - Successfully imported pdf_extractor module
2025-06-02 23:44:53,042 - INFO - Initializing PDF extractor module...
2025-06-02 23:44:53,042 - pdf_extractor - INFO - Initializing PDF extractor module...
2025-06-02 23:44:53,046 - file_processor - WARNING - Failed to initialize pdf_extractor: name 'JAVA_AVAILABLE' is not defined
2025-06-02 23:44:53,046 - file_processor - WARNING - Failed to initialize pdf_extractor: name 'JAVA_AVAILABLE' is not defined
2025-06-02 23:44:53,047 - file_processor - INFO - Successfully imported pdf_output_enhancer module
2025-06-02 23:44:53,047 - file_processor - INFO - Successfully imported pdf_output_enhancer module
2025-06-02 23:44:53,075 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.02s)
2025-06-02 23:44:53,075 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.02s)
2025-06-02 23:44:53,088 - blueprints.core.services - INFO - Task 804203b7-94c2-4306-b8d6-ddda16428c38 progress: 0% - Stage: discovery (0/1)
2025-06-02 23:44:53,089 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-02 23:44:53,089 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-02 23:44:53,090 - file_processor - INFO - Processing batch 1/1 (1 files)
2025-06-02 23:44:53,090 - file_processor - INFO - Processing batch 1/1 (1 files)
emitting event "progress_update" to all [/]
2025-06-02 23:44:53,102 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-02 23:44:53,104 - blueprints.core.services - INFO - Task 804203b7-94c2-4306-b8d6-ddda16428c38 progress: 100% - Stage: processing (1/1)
2025-06-02 23:44:53,109 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-02 23:44:53,109 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-02 23:44:53,110 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-02 23:44:53,110 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-02 23:44:53,111 - file_processor - INFO - Total documents across all libraries: 1
2025-06-02 23:44:53,111 - file_processor - INFO - Total documents across all libraries: 1
2025-06-02 23:44:53,111 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-02 23:44:53,111 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-02 23:44:53,120 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-02 23:44:53,120 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-02 23:44:53,121 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/working_test.json
2025-06-02 23:44:53,121 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/working_test.json
2025-06-02 23:44:53,127 - blueprints.core.services - INFO - Task 804203b7-94c2-4306-b8d6-ddda16428c38 progress: 100% - Stage: completed (100/100)
2025-06-02 23:44:53,128 - file_processor - INFO - Processing complete in 0.06s
2025-06-02 23:44:53,128 - file_processor - INFO - Processing complete in 0.06s
2025-06-02 23:44:53,128 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-02 23:44:53,128 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-02 23:44:53,134 - blueprints.core.services - INFO - Output file validation passed: /workspace/modules/test_output/working_test.json (203 bytes)
2025-06-02 23:44:53,139 - blueprints.core.services - INFO - Processing completed in 0.69s: 1/100 files processed, 0 errors, 0 skipped
2025-06-02 23:44:53,139 - blueprints.api.management - INFO - Added task 804203b7-94c2-4306-b8d6-ddda16428c38 to history
2025-06-02 23:44:53,140 - blueprints.core.services - INFO - Task 804203b7-94c2-4306-b8d6-ddda16428c38 completed - BaseTask will handle emission
2025-06-02 23:44:53,140 - blueprints.core.services - INFO - Task 804203b7-94c2-4306-b8d6-ddda16428c38 enhanced final stats: processed=1, errors=0, skipped=0, pdfs=0, duration=0.69s, efficiency=14.44
2025-06-02 23:44:53,141 - blueprints.core.services - INFO - Task 804203b7-94c2-4306-b8d6-ddda16428c38 (file_processing) completed in 0.69s.
2025-06-02 23:44:53,143 - blueprints.core.services - INFO - Processing completed in 0.69s: 1/100 files processed, 0 errors, 0 skipped
emitting event "task_completed" to all [/]
2025-06-02 23:44:53,144 - socketio.server - INFO - emitting event "task_completed" to all [/]
2025-06-02 23:44:53,145 - blueprints.socketio_events - INFO - Emitted unified task_completed for 804203b7-94c2-4306-b8d6-ddda16428c38 (file_processing)
2025-06-02 23:44:53,145 - blueprints.core.services - INFO - Removed task 804203b7-94c2-4306-b8d6-ddda16428c38 from active tasks
2025-06-03 08:11:55,246 - file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/socketio_debug_test.json, output_dir=None
2025-06-03 08:11:55,246 - file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/socketio_debug_test.json, output_dir=None
2025-06-03 08:11:55,290 - file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/socketio_debug_test.json
2025-06-03 08:11:55,290 - file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/socketio_debug_test.json
2025-06-03 08:11:55,291 - file_processor - INFO - Resolved output path: /workspace/modules/test_output/socketio_debug_test.json
2025-06-03 08:11:55,291 - file_processor - INFO - Resolved output path: /workspace/modules/test_output/socketio_debug_test.json
2025-06-03 08:11:55,306 - blueprints.core.services - INFO - BaseTask b2ae52a6-913b-4b62-b21c-9196aca3eae4 (file_processing) created.
2025-06-03 08:11:55,379 - blueprints.core.services - INFO - Calibrated processing parameters: max_memory=2048MB, batch_size=25, gc_threshold=1536MB
2025-06-03 08:11:55,431 - blueprints.core.services - INFO - Added task b2ae52a6-913b-4b62-b21c-9196aca3eae4 to active tasks
2025-06-03 08:11:55,511 - blueprints.api.management - INFO - Registered new task b2ae52a6-913b-4b62-b21c-9196aca3eae4 of type file_processing
emitting event "progress_update" to all [/]
2025-06-03 08:11:55,572 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-03 08:11:55,591 - blueprints.core.services - INFO - Task b2ae52a6-913b-4b62-b21c-9196aca3eae4 (file_processing) started processing.
2025-06-03 08:11:55,595 - blueprints.socketio_events - ERROR - Error emitting task_started: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-06-03 08:11:55,596 - blueprints.core.services - WARNING - Failed to emit task_started for b2ae52a6-913b-4b62-b21c-9196aca3eae4
2025-06-03 08:11:55,599 - blueprints.core.services - INFO - Task b2ae52a6-913b-4b62-b21c-9196aca3eae4 (file_processing) thread started.
2025-06-03 08:11:55,599 - file_processor - INFO - Started processing task: b2ae52a6-913b-4b62-b21c-9196aca3eae4 for input directory: /workspace/modules/test_input
2025-06-03 08:11:55,599 - file_processor - INFO - Started processing task: b2ae52a6-913b-4b62-b21c-9196aca3eae4 for input directory: /workspace/modules/test_input
2025-06-03 08:11:55,752 - blueprints.core.services - INFO - Task b2ae52a6-913b-4b62-b21c-9196aca3eae4: Starting enhanced file processing for directory: /workspace/modules/test_input
2025-06-03 08:11:55,755 - blueprints.core.services - INFO - Task b2ae52a6-913b-4b62-b21c-9196aca3eae4 progress: 1% - Processing files in /workspace/modules/test_input with enhanced analytics...
2025-06-03 08:11:55,756 - blueprints.core.services - INFO - Using optimized file processor from blueprints.features.file_processor
2025-06-03 08:11:55,758 - blueprints.core.services - INFO - Starting main processing with batch_size=25, chunk_size=4096
2025-06-03 08:11:55,822 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.01s)
2025-06-03 08:11:55,822 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.01s)
2025-06-03 08:11:55,845 - blueprints.core.services - INFO - Task b2ae52a6-913b-4b62-b21c-9196aca3eae4 progress: 0% - Stage: discovery (0/1)
2025-06-03 08:11:55,845 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-03 08:11:55,845 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-03 08:11:55,846 - file_processor - INFO - Processing batch 1/1 (1 files)
2025-06-03 08:11:55,846 - file_processor - INFO - Processing batch 1/1 (1 files)
emitting event "progress_update" to all [/]
2025-06-03 08:11:55,876 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-03 08:11:55,877 - blueprints.core.services - INFO - Task b2ae52a6-913b-4b62-b21c-9196aca3eae4 progress: 100% - Stage: processing (1/1)
2025-06-03 08:11:55,910 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-03 08:11:55,910 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-03 08:11:55,911 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-03 08:11:55,911 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-03 08:11:55,913 - file_processor - INFO - Total documents across all libraries: 1
2025-06-03 08:11:55,913 - file_processor - INFO - Total documents across all libraries: 1
2025-06-03 08:11:55,914 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-03 08:11:55,914 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-03 08:11:55,924 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-03 08:11:55,924 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-03 08:11:55,925 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/socketio_debug_test.json
2025-06-03 08:11:55,925 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/socketio_debug_test.json
2025-06-03 08:11:55,946 - blueprints.core.services - INFO - Task b2ae52a6-913b-4b62-b21c-9196aca3eae4 progress: 100% - Stage: completed (100/100)
2025-06-03 08:11:55,947 - file_processor - INFO - Processing complete in 0.10s
2025-06-03 08:11:55,947 - file_processor - INFO - Processing complete in 0.10s
2025-06-03 08:11:55,947 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-03 08:11:55,947 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-03 08:11:55,958 - blueprints.core.services - INFO - Output file validation passed: /workspace/modules/test_output/socketio_debug_test.json (203 bytes)
2025-06-03 08:11:55,961 - blueprints.core.services - INFO - Processing completed in 0.65s: 1/100 files processed, 0 errors, 0 skipped
2025-06-03 08:11:55,963 - blueprints.api.management - INFO - Added task b2ae52a6-913b-4b62-b21c-9196aca3eae4 to history
2025-06-03 08:11:55,964 - blueprints.core.services - INFO - Task b2ae52a6-913b-4b62-b21c-9196aca3eae4 completed - BaseTask will handle emission
2025-06-03 08:11:55,965 - blueprints.core.services - INFO - Task b2ae52a6-913b-4b62-b21c-9196aca3eae4 enhanced final stats: processed=1, errors=0, skipped=0, pdfs=0, duration=0.66s, efficiency=15.25
2025-06-03 08:11:55,966 - blueprints.core.services - INFO - Task b2ae52a6-913b-4b62-b21c-9196aca3eae4 (file_processing) completed in 0.66s.
2025-06-03 08:11:55,969 - blueprints.core.services - INFO - Processing completed in 0.66s: 1/100 files processed, 0 errors, 0 skipped
emitting event "task_completed" to all [/]
2025-06-03 08:11:55,971 - socketio.server - INFO - emitting event "task_completed" to all [/]
2025-06-03 08:11:55,972 - blueprints.socketio_events - INFO - Emitted unified task_completed for b2ae52a6-913b-4b62-b21c-9196aca3eae4 (file_processing)
2025-06-03 08:11:55,972 - blueprints.core.services - INFO - Removed task b2ae52a6-913b-4b62-b21c-9196aca3eae4 from active tasks
2025-06-03 08:26:33,248 - file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/debug_socketio.json, output_dir=None
2025-06-03 08:26:33,248 - file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/debug_socketio.json, output_dir=None
2025-06-03 08:26:33,323 - file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/debug_socketio.json
2025-06-03 08:26:33,323 - file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/debug_socketio.json
2025-06-03 08:26:33,325 - file_processor - INFO - Resolved output path: /workspace/modules/test_output/debug_socketio.json
2025-06-03 08:26:33,325 - file_processor - INFO - Resolved output path: /workspace/modules/test_output/debug_socketio.json
2025-06-03 08:26:33,342 - blueprints.core.services - INFO - BaseTask e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 (file_processing) created.
2025-06-03 08:26:33,404 - blueprints.core.services - INFO - Calibrated processing parameters: max_memory=2048MB, batch_size=25, gc_threshold=1536MB
2025-06-03 08:26:33,407 - blueprints.core.services - INFO - Added task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 to active tasks
2025-06-03 08:26:33,412 - blueprints.api.management - INFO - Registered new task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 of type file_processing
emitting event "progress_update" to all [/]
2025-06-03 08:26:33,439 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-03 08:26:33,458 - blueprints.core.services - INFO - Task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 (file_processing) started processing.
2025-06-03 08:26:33,463 - blueprints.socketio_events - ERROR - Error emitting task_started: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-06-03 08:26:33,464 - blueprints.core.services - WARNING - Failed to emit task_started for e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709
2025-06-03 08:26:33,466 - blueprints.core.services - INFO - Task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 (file_processing) thread started.
2025-06-03 08:26:33,467 - file_processor - INFO - Started processing task: e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 for input directory: /workspace/modules/test_input
2025-06-03 08:26:33,467 - file_processor - INFO - Started processing task: e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 for input directory: /workspace/modules/test_input
2025-06-03 08:26:33,559 - blueprints.core.services - INFO - Task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709: Starting enhanced file processing for directory: /workspace/modules/test_input
2025-06-03 08:26:33,564 - blueprints.core.services - INFO - Task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 progress: 1% - Processing files in /workspace/modules/test_input with enhanced analytics...
2025-06-03 08:26:33,565 - blueprints.core.services - INFO - Using optimized file processor from blueprints.features.file_processor
2025-06-03 08:26:33,569 - blueprints.core.services - INFO - Starting main processing with batch_size=25, chunk_size=4096
2025-06-03 08:26:33,680 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.04s)
2025-06-03 08:26:33,680 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.04s)
2025-06-03 08:26:33,699 - blueprints.core.services - INFO - Task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 progress: 0% - Stage: discovery (0/1)
2025-06-03 08:26:33,699 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-03 08:26:33,699 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-03 08:26:33,700 - file_processor - INFO - Processing batch 1/1 (1 files)
2025-06-03 08:26:33,700 - file_processor - INFO - Processing batch 1/1 (1 files)
emitting event "progress_update" to all [/]
2025-06-03 08:26:33,762 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-03 08:26:33,764 - blueprints.core.services - INFO - Task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 progress: 100% - Stage: processing (1/1)
2025-06-03 08:26:33,781 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-03 08:26:33,781 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-03 08:26:33,782 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-03 08:26:33,782 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-03 08:26:33,783 - file_processor - INFO - Total documents across all libraries: 1
2025-06-03 08:26:33,783 - file_processor - INFO - Total documents across all libraries: 1
2025-06-03 08:26:33,785 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-03 08:26:33,785 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-03 08:26:33,801 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-03 08:26:33,801 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-03 08:26:33,802 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/debug_socketio.json
2025-06-03 08:26:33,802 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/debug_socketio.json
2025-06-03 08:26:33,819 - blueprints.core.services - INFO - Task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 progress: 100% - Stage: completed (100/100)
2025-06-03 08:26:33,819 - file_processor - INFO - Processing complete in 0.15s
2025-06-03 08:26:33,819 - file_processor - INFO - Processing complete in 0.15s
2025-06-03 08:26:33,822 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-03 08:26:33,822 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-03 08:26:33,852 - blueprints.core.services - INFO - Output file validation passed: /workspace/modules/test_output/debug_socketio.json (203 bytes)
2025-06-03 08:26:33,856 - blueprints.core.services - INFO - Processing completed in 0.50s: 1/100 files processed, 0 errors, 0 skipped
2025-06-03 08:26:33,861 - blueprints.api.management - INFO - Added task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 to history
2025-06-03 08:26:33,862 - blueprints.core.services - INFO - Task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 completed - BaseTask will handle emission
2025-06-03 08:26:33,864 - blueprints.core.services - INFO - Task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 enhanced final stats: processed=1, errors=0, skipped=0, pdfs=0, duration=0.51s, efficiency=19.53
2025-06-03 08:26:33,865 - blueprints.core.services - INFO - Task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 (file_processing) completed in 0.51s.
2025-06-03 08:26:33,867 - blueprints.core.services - INFO - Processing completed in 0.52s: 1/100 files processed, 0 errors, 0 skipped
emitting event "task_completed" to all [/]
2025-06-03 08:26:33,869 - socketio.server - INFO - emitting event "task_completed" to all [/]
2025-06-03 08:26:33,869 - blueprints.socketio_events - INFO - Emitted unified task_completed for e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 (file_processing)
2025-06-03 08:26:33,870 - blueprints.core.services - INFO - Removed task e9cb5d4e-9f35-4e4d-b20d-c2bec12ed709 from active tasks
2025-06-03 11:41:49,089 - file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/stats_test.json, output_dir=None
2025-06-03 11:41:49,089 - file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/stats_test.json, output_dir=None
2025-06-03 11:41:49,271 - file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/stats_test.json
2025-06-03 11:41:49,271 - file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/stats_test.json
2025-06-03 11:41:49,273 - file_processor - INFO - Resolved output path: /workspace/modules/test_output/stats_test.json
2025-06-03 11:41:49,273 - file_processor - INFO - Resolved output path: /workspace/modules/test_output/stats_test.json
2025-06-03 11:41:49,286 - blueprints.core.services - INFO - BaseTask 7b34e59c-4f21-4f7f-807b-88ce1e05e055 (file_processing) created.
2025-06-03 11:41:49,638 - blueprints.core.services - INFO - Calibrated processing parameters: max_memory=2048MB, batch_size=25, gc_threshold=1536MB
2025-06-03 11:41:49,639 - blueprints.core.services - INFO - Added task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 to active tasks
2025-06-03 11:41:49,649 - blueprints.api.management - INFO - Registered new task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 of type file_processing
emitting event "progress_update" to all [/]
2025-06-03 11:41:49,694 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-03 11:41:49,728 - blueprints.core.services - INFO - Task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 (file_processing) started processing.
2025-06-03 11:41:49,736 - blueprints.socketio_events - ERROR - Error emitting task_started: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-06-03 11:41:49,739 - blueprints.core.services - WARNING - Failed to emit task_started for 7b34e59c-4f21-4f7f-807b-88ce1e05e055
2025-06-03 11:41:49,746 - blueprints.core.services - INFO - Task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 (file_processing) thread started.
2025-06-03 11:41:49,747 - file_processor - INFO - Started processing task: 7b34e59c-4f21-4f7f-807b-88ce1e05e055 for input directory: /workspace/modules/test_input
2025-06-03 11:41:49,747 - file_processor - INFO - Started processing task: 7b34e59c-4f21-4f7f-807b-88ce1e05e055 for input directory: /workspace/modules/test_input
2025-06-03 11:41:49,903 - blueprints.core.services - INFO - Task 7b34e59c-4f21-4f7f-807b-88ce1e05e055: Starting enhanced file processing for directory: /workspace/modules/test_input
2025-06-03 11:41:49,906 - blueprints.core.services - INFO - Task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 progress: 1% - Processing files in /workspace/modules/test_input with enhanced analytics...
2025-06-03 11:41:49,907 - blueprints.core.services - INFO - Using optimized file processor from blueprints.features.file_processor
2025-06-03 11:41:49,910 - blueprints.core.services - INFO - Starting main processing with batch_size=25, chunk_size=4096
2025-06-03 11:41:50,041 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.05s)
2025-06-03 11:41:50,041 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.05s)
2025-06-03 11:41:50,062 - blueprints.core.services - INFO - Task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 progress: 0% - Stage: discovery (0/1)
2025-06-03 11:41:50,062 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-03 11:41:50,062 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-03 11:41:50,063 - file_processor - INFO - Processing batch 1/1 (1 files)
2025-06-03 11:41:50,063 - file_processor - INFO - Processing batch 1/1 (1 files)
emitting event "progress_update" to all [/]
2025-06-03 11:41:50,116 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-03 11:41:50,117 - blueprints.core.services - INFO - Task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 progress: 100% - Stage: processing (1/1)
2025-06-03 11:41:50,132 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-03 11:41:50,132 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-03 11:41:50,134 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-03 11:41:50,134 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-03 11:41:50,136 - file_processor - INFO - Total documents across all libraries: 1
2025-06-03 11:41:50,136 - file_processor - INFO - Total documents across all libraries: 1
2025-06-03 11:41:50,138 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-03 11:41:50,138 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-03 11:41:50,149 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-03 11:41:50,149 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-03 11:41:50,157 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/stats_test.json
2025-06-03 11:41:50,157 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/stats_test.json
2025-06-03 11:41:50,193 - blueprints.core.services - INFO - Task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 progress: 100% - Stage: completed (100/100)
2025-06-03 11:41:50,194 - file_processor - INFO - Processing complete in 0.14s
2025-06-03 11:41:50,194 - file_processor - INFO - Processing complete in 0.14s
2025-06-03 11:41:50,196 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-03 11:41:50,196 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-03 11:41:50,222 - blueprints.core.services - INFO - Output file validation passed: /workspace/modules/test_output/stats_test.json (203 bytes)
2025-06-03 11:41:50,226 - blueprints.core.services - INFO - Processing completed in 0.92s: 1/100 files processed, 0 errors, 0 skipped
2025-06-03 11:41:50,230 - blueprints.api.management - INFO - Added task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 to history
2025-06-03 11:41:50,231 - blueprints.core.services - INFO - Task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 completed - BaseTask will handle emission
2025-06-03 11:41:50,234 - blueprints.core.services - INFO - Task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 enhanced final stats: processed=1, errors=0, skipped=0, pdfs=0, duration=0.93s, efficiency=10.8
2025-06-03 11:41:50,241 - blueprints.core.services - INFO - Task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 (file_processing) completed in 0.93s.
2025-06-03 11:41:50,246 - blueprints.core.services - INFO - Processing completed in 0.94s: 1/100 files processed, 0 errors, 0 skipped
emitting event "task_completed" to all [/]
2025-06-03 11:41:50,251 - socketio.server - INFO - emitting event "task_completed" to all [/]
2025-06-03 11:41:50,254 - blueprints.socketio_events - INFO - Emitted unified task_completed for 7b34e59c-4f21-4f7f-807b-88ce1e05e055 (file_processing)
2025-06-03 11:41:50,255 - blueprints.core.services - INFO - Removed task 7b34e59c-4f21-4f7f-807b-88ce1e05e055 from active tasks
2025-06-03 12:20:36,217 - file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/debug_stats_flow.json, output_dir=None
2025-06-03 12:20:36,217 - file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/debug_stats_flow.json, output_dir=None
2025-06-03 12:20:36,291 - file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/debug_stats_flow.json
2025-06-03 12:20:36,291 - file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/debug_stats_flow.json
2025-06-03 12:20:36,294 - file_processor - INFO - Resolved output path: /workspace/modules/test_output/debug_stats_flow.json
2025-06-03 12:20:36,294 - file_processor - INFO - Resolved output path: /workspace/modules/test_output/debug_stats_flow.json
2025-06-03 12:20:36,306 - blueprints.core.services - INFO - BaseTask 119c10f5-2517-4851-b85d-35ee8be9b6e8 (file_processing) created.
2025-06-03 12:20:36,383 - blueprints.core.services - INFO - Calibrated processing parameters: max_memory=2048MB, batch_size=25, gc_threshold=1536MB
2025-06-03 12:20:36,385 - blueprints.core.services - INFO - Added task 119c10f5-2517-4851-b85d-35ee8be9b6e8 to active tasks
2025-06-03 12:20:36,391 - blueprints.api.management - INFO - Registered new task 119c10f5-2517-4851-b85d-35ee8be9b6e8 of type file_processing
emitting event "progress_update" to all [/]
2025-06-03 12:20:36,431 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-03 12:20:36,472 - blueprints.core.services - INFO - Task 119c10f5-2517-4851-b85d-35ee8be9b6e8 (file_processing) started processing.
2025-06-03 12:20:36,474 - blueprints.socketio_events - ERROR - Error emitting task_started: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-06-03 12:20:36,480 - blueprints.core.services - WARNING - Failed to emit task_started for 119c10f5-2517-4851-b85d-35ee8be9b6e8
2025-06-03 12:20:36,484 - blueprints.core.services - INFO - Task 119c10f5-2517-4851-b85d-35ee8be9b6e8 (file_processing) thread started.
2025-06-03 12:20:36,484 - file_processor - INFO - Started processing task: 119c10f5-2517-4851-b85d-35ee8be9b6e8 for input directory: /workspace/modules/test_input
2025-06-03 12:20:36,484 - file_processor - INFO - Started processing task: 119c10f5-2517-4851-b85d-35ee8be9b6e8 for input directory: /workspace/modules/test_input
2025-06-03 12:20:36,547 - blueprints.core.services - INFO - Task 119c10f5-2517-4851-b85d-35ee8be9b6e8: Starting enhanced file processing for directory: /workspace/modules/test_input
2025-06-03 12:20:36,555 - blueprints.core.services - INFO - Task 119c10f5-2517-4851-b85d-35ee8be9b6e8 progress: 1% - Processing files in /workspace/modules/test_input with enhanced analytics...
2025-06-03 12:20:36,557 - blueprints.core.services - INFO - Using optimized file processor from blueprints.features.file_processor
2025-06-03 12:20:36,564 - blueprints.core.services - INFO - Starting main processing with batch_size=25, chunk_size=4096
2025-06-03 12:20:36,698 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.04s)
2025-06-03 12:20:36,698 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.04s)
2025-06-03 12:20:36,712 - blueprints.core.services - INFO - Task 119c10f5-2517-4851-b85d-35ee8be9b6e8 progress: 0% - Stage: discovery (0/1)
2025-06-03 12:20:36,712 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-03 12:20:36,712 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-03 12:20:36,713 - file_processor - INFO - Processing batch 1/1 (1 files)
2025-06-03 12:20:36,713 - file_processor - INFO - Processing batch 1/1 (1 files)
emitting event "progress_update" to all [/]
2025-06-03 12:20:36,828 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-03 12:20:36,831 - blueprints.core.services - INFO - Task 119c10f5-2517-4851-b85d-35ee8be9b6e8 progress: 100% - Stage: processing (1/1)
2025-06-03 12:20:36,872 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-03 12:20:36,872 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-03 12:20:36,873 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-03 12:20:36,873 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-03 12:20:36,874 - file_processor - INFO - Total documents across all libraries: 1
2025-06-03 12:20:36,874 - file_processor - INFO - Total documents across all libraries: 1
2025-06-03 12:20:36,877 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-03 12:20:36,877 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-03 12:20:36,892 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-03 12:20:36,892 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-03 12:20:36,895 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/debug_stats_flow.json
2025-06-03 12:20:36,895 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/debug_stats_flow.json
2025-06-03 12:20:36,915 - blueprints.core.services - INFO - Task 119c10f5-2517-4851-b85d-35ee8be9b6e8 progress: 100% - Stage: completed (100/100)
2025-06-03 12:20:36,916 - file_processor - INFO - Processing complete in 0.20s
2025-06-03 12:20:36,916 - file_processor - INFO - Processing complete in 0.20s
2025-06-03 12:20:36,919 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-03 12:20:36,919 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-03 12:20:36,938 - blueprints.core.services - INFO - Output file validation passed: /workspace/modules/test_output/debug_stats_flow.json (203 bytes)
2025-06-03 12:20:36,942 - blueprints.core.services - INFO - Processing completed in 0.63s: 1/100 files processed, 0 errors, 0 skipped
2025-06-03 12:20:36,945 - blueprints.api.management - INFO - Added task 119c10f5-2517-4851-b85d-35ee8be9b6e8 to history
2025-06-03 12:20:36,947 - blueprints.core.services - INFO - Task 119c10f5-2517-4851-b85d-35ee8be9b6e8 completed - BaseTask will handle emission
2025-06-03 12:20:36,948 - blueprints.core.services - INFO - Task 119c10f5-2517-4851-b85d-35ee8be9b6e8 enhanced final stats: processed=1, errors=0, skipped=0, pdfs=0, duration=0.64s, efficiency=15.7
2025-06-03 12:20:36,948 - blueprints.core.services - INFO - Task 119c10f5-2517-4851-b85d-35ee8be9b6e8 (file_processing) completed in 0.64s.
2025-06-03 12:20:36,951 - blueprints.core.services - INFO - Processing completed in 0.64s: 1/100 files processed, 0 errors, 0 skipped
emitting event "task_completed" to all [/]
2025-06-03 12:20:36,953 - socketio.server - INFO - emitting event "task_completed" to all [/]
2025-06-03 12:20:36,953 - blueprints.socketio_events - INFO - Emitted unified task_completed for 119c10f5-2517-4851-b85d-35ee8be9b6e8 (file_processing)
2025-06-03 12:20:36,954 - blueprints.core.services - INFO - Removed task 119c10f5-2517-4851-b85d-35ee8be9b6e8 from active tasks
2025-06-03 12:22:13,138 - file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/debug_basetask_stats.json, output_dir=None
2025-06-03 12:22:13,138 - file_processor - INFO - Processing request: input_dir=/workspace/modules/test_input, output_file=/workspace/modules/test_output/debug_basetask_stats.json, output_dir=None
2025-06-03 12:22:13,170 - file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/debug_basetask_stats.json
2025-06-03 12:22:13,170 - file_processor - INFO - Output file will be saved at: /workspace/modules/test_output/debug_basetask_stats.json
2025-06-03 12:22:13,171 - file_processor - INFO - Resolved output path: /workspace/modules/test_output/debug_basetask_stats.json
2025-06-03 12:22:13,171 - file_processor - INFO - Resolved output path: /workspace/modules/test_output/debug_basetask_stats.json
2025-06-03 12:22:13,179 - blueprints.core.services - INFO - BaseTask 59703d29-1261-4f13-b32e-d2778f249b8a (file_processing) created.
2025-06-03 12:22:13,232 - blueprints.core.services - INFO - Calibrated processing parameters: max_memory=2048MB, batch_size=25, gc_threshold=1536MB
2025-06-03 12:22:13,235 - blueprints.core.services - INFO - Added task 59703d29-1261-4f13-b32e-d2778f249b8a to active tasks
2025-06-03 12:22:13,238 - blueprints.api.management - INFO - Registered new task 59703d29-1261-4f13-b32e-d2778f249b8a of type file_processing
emitting event "progress_update" to all [/]
2025-06-03 12:22:13,255 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-03 12:22:13,265 - blueprints.core.services - INFO - Task 59703d29-1261-4f13-b32e-d2778f249b8a (file_processing) started processing.
2025-06-03 12:22:13,267 - blueprints.socketio_events - ERROR - Error emitting task_started: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-06-03 12:22:13,268 - blueprints.core.services - WARNING - Failed to emit task_started for 59703d29-1261-4f13-b32e-d2778f249b8a
2025-06-03 12:22:13,270 - blueprints.core.services - INFO - Task 59703d29-1261-4f13-b32e-d2778f249b8a (file_processing) thread started.
2025-06-03 12:22:13,271 - file_processor - INFO - Started processing task: 59703d29-1261-4f13-b32e-d2778f249b8a for input directory: /workspace/modules/test_input
2025-06-03 12:22:13,271 - file_processor - INFO - Started processing task: 59703d29-1261-4f13-b32e-d2778f249b8a for input directory: /workspace/modules/test_input
2025-06-03 12:22:13,322 - blueprints.core.services - INFO - Task 59703d29-1261-4f13-b32e-d2778f249b8a: Starting enhanced file processing for directory: /workspace/modules/test_input
2025-06-03 12:22:13,332 - blueprints.core.services - INFO - Task 59703d29-1261-4f13-b32e-d2778f249b8a progress: 1% - Processing files in /workspace/modules/test_input with enhanced analytics...
2025-06-03 12:22:13,334 - blueprints.core.services - INFO - Using optimized file processor from blueprints.features.file_processor
2025-06-03 12:22:13,337 - blueprints.core.services - INFO - Starting main processing with batch_size=25, chunk_size=4096
2025-06-03 12:22:13,398 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.02s)
2025-06-03 12:22:13,398 - file_processor - INFO - Found 1 valid files in /workspace/modules/test_input (0.02s)
2025-06-03 12:22:13,409 - blueprints.core.services - INFO - Task 59703d29-1261-4f13-b32e-d2778f249b8a progress: 0% - Stage: discovery (0/1)
2025-06-03 12:22:13,410 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-03 12:22:13,410 - file_processor - INFO - Using thread executor with max_workers=3
2025-06-03 12:22:13,411 - file_processor - INFO - Processing batch 1/1 (1 files)
2025-06-03 12:22:13,411 - file_processor - INFO - Processing batch 1/1 (1 files)
emitting event "progress_update" to all [/]
2025-06-03 12:22:13,501 - socketio.server - INFO - emitting event "progress_update" to all [/]
2025-06-03 12:22:13,503 - blueprints.core.services - INFO - Task 59703d29-1261-4f13-b32e-d2778f249b8a progress: 100% - Stage: processing (1/1)
2025-06-03 12:22:13,519 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-03 12:22:13,519 - file_processor - INFO - Ensured output directory exists: /workspace/modules/test_output
2025-06-03 12:22:13,520 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-03 12:22:13,520 - file_processor - INFO - write_optimized_json called with 1 libraries
2025-06-03 12:22:13,521 - file_processor - INFO - Total documents across all libraries: 1
2025-06-03 12:22:13,521 - file_processor - INFO - Total documents across all libraries: 1
2025-06-03 12:22:13,522 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-03 12:22:13,522 - file_processor - INFO - Processing library 'test.txt' with 1 documents
2025-06-03 12:22:13,530 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-03 12:22:13,530 - file_processor - INFO - Created training-optimized JSON with 1 documents
2025-06-03 12:22:13,531 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/debug_basetask_stats.json
2025-06-03 12:22:13,531 - file_processor - INFO - Created optimized JSON output at /workspace/modules/test_output/debug_basetask_stats.json
2025-06-03 12:22:13,553 - blueprints.core.services - INFO - Task 59703d29-1261-4f13-b32e-d2778f249b8a progress: 100% - Stage: completed (100/100)
2025-06-03 12:22:13,554 - file_processor - INFO - Processing complete in 0.15s
2025-06-03 12:22:13,554 - file_processor - INFO - Processing complete in 0.15s
2025-06-03 12:22:13,554 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-03 12:22:13,554 - file_processor - INFO - Stats: 1 files found, 1 processed, 0 skipped, 0 errors, 1 chunks created
2025-06-03 12:22:13,564 - blueprints.core.services - INFO - Output file validation passed: /workspace/modules/test_output/debug_basetask_stats.json (203 bytes)
2025-06-03 12:22:13,567 - blueprints.core.services - INFO - Processing completed in 0.38s: 1/100 files processed, 0 errors, 0 skipped
2025-06-03 12:22:13,569 - blueprints.api.management - INFO - Added task 59703d29-1261-4f13-b32e-d2778f249b8a to history
2025-06-03 12:22:13,570 - blueprints.core.services - INFO - Task 59703d29-1261-4f13-b32e-d2778f249b8a completed - BaseTask will handle emission
2025-06-03 12:22:13,570 - blueprints.core.services - INFO - Task 59703d29-1261-4f13-b32e-d2778f249b8a enhanced final stats: processed=1, errors=0, skipped=0, pdfs=0, duration=0.39s, efficiency=25.91
2025-06-03 12:22:13,571 - blueprints.core.services - INFO - Task 59703d29-1261-4f13-b32e-d2778f249b8a (file_processing) completed in 0.39s.
2025-06-03 12:22:13,580 - blueprints.core.services - INFO - Processing completed in 0.39s: 1/100 files processed, 0 errors, 0 skipped
emitting event "task_completed" to all [/]
2025-06-03 12:22:13,582 - socketio.server - INFO - emitting event "task_completed" to all [/]
2025-06-03 12:22:13,583 - blueprints.socketio_events - INFO - Emitted unified task_completed for 59703d29-1261-4f13-b32e-d2778f249b8a (file_processing)
2025-06-03 12:22:13,584 - blueprints.core.services - INFO - Removed task 59703d29-1261-4f13-b32e-d2778f249b8a from active tasks
