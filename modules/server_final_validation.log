2025-05-31 04:10:40,925 - app - INFO - Using static folder: /workspace/modules/static
2025-05-31 04:10:40,926 - app - INFO - Using template folder: /workspace/modules/blueprints/templates
Server initialized for eventlet.
2025-05-31 04:10:40,980 - engineio.server - INFO - Server initialized for eventlet.
2025-05-31 04:10:41,164 - blueprints.core.utils - WARNING - python-magic not available. Try installing python-magic-bin on Windows
2025-05-31 04:10:41,289 - blueprints.core.http_client - INFO - HTTP session created with retry strategy
2025-05-31 04:10:43,374 - file_processor - INFO - Successfully patched pytesseract to ignore temp file deletion errors
2025-05-31 04:10:43,374 - file_processor - INFO - Successfully patched pytesseract to ignore temp file deletion errors
2025-05-31 04:10:43,375 - file_processor - INFO - Started temp file cleanup service
2025-05-31 04:10:43,375 - file_processor - INFO - Started temp file cleanup service
üöÄ Starting NeuroGen Server (Blueprint Architecture)
==================================================
üìç Server URL: http://127.0.0.1:5025
üîß Debug mode: False
üìÅ Working directory: /workspace/modules
==================================================
2025-05-31 04:10:44,234 - INFO - PyMuPDF (fitz) version ('1.26.0', '1.26.1', '20250522000001') detected
2025-05-31 04:10:44,234 - pdf_extractor - INFO - PyMuPDF (fitz) version ('1.26.0', '1.26.1', '20250522000001') detected
2025-05-31 04:10:44,483 - INFO - PyPDF2 version 3.0.1 detected
2025-05-31 04:10:44,483 - pdf_extractor - INFO - PyPDF2 version 3.0.1 detected
2025-05-31 04:10:44,484 - WARNING - pdfplumber not available. Install with: pip install pdfplumber
2025-05-31 04:10:44,484 - pdf_extractor - WARNING - pdfplumber not available. Install with: pip install pdfplumber
2025-05-31 04:10:44,504 - INFO - Tabula detected for table extraction
2025-05-31 04:10:44,504 - pdf_extractor - INFO - Tabula detected for table extraction
2025-05-31 04:10:44,505 - INFO - OCR available with Tesseract and PIL/Pillow
2025-05-31 04:10:44,505 - pdf_extractor - INFO - OCR available with Tesseract and PIL/Pillow
2025-05-31 04:10:44,510 - WARNING - Failed to find Java in PATH: [Errno 2] No such file or directory: 'where'
2025-05-31 04:10:44,510 - pdf_extractor - WARNING - Failed to find Java in PATH: [Errno 2] No such file or directory: 'where'
2025-05-31 04:10:44,511 - WARNING - Java installation not found. Table extraction with Tabula will not be available.
2025-05-31 04:10:44,511 - pdf_extractor - WARNING - Java installation not found. Table extraction with Tabula will not be available.
2025-05-31 04:10:44,512 - file_processor - INFO - Successfully imported pdf_extractor module
2025-05-31 04:10:44,512 - file_processor - INFO - Successfully imported pdf_extractor module
2025-05-31 04:10:44,512 - INFO - Initializing PDF extractor module...
2025-05-31 04:10:44,512 - pdf_extractor - INFO - Initializing PDF extractor module...
2025-05-31 04:10:44,514 - file_processor - WARNING - Failed to initialize pdf_extractor: name 'JAVA_AVAILABLE' is not defined
2025-05-31 04:10:44,514 - file_processor - WARNING - Failed to initialize pdf_extractor: name 'JAVA_AVAILABLE' is not defined
2025-05-31 04:10:44,525 - pdf_output_enhancer - INFO - PDF Output Enhancer module imported. Call init_improved_output_format() to initialize.
2025-05-31 04:10:44,525 - file_processor - INFO - Successfully imported pdf_output_enhancer module
2025-05-31 04:10:44,525 - file_processor - INFO - Successfully imported pdf_output_enhancer module
2025-05-31 04:10:44,528 - Structify - INFO - Successfully imported claude.py from Structify package
2025-05-31 04:10:44,528 - structify_import - INFO - Successfully imported claude.py module from Structify package
2025-05-31 04:10:44,529 - blueprints.core.structify_integration - INFO - Set structify TEMP_OCR_DIR to: /workspace/modules/blueprints/core/../../temp
2025-05-31 04:10:44,544 - file_processor - INFO - Tesseract language data already exists at /workspace/modules/blueprints/core/../../temp/tessdata/eng.traineddata
2025-05-31 04:10:44,544 - file_processor - INFO - Tesseract language data already exists at /workspace/modules/blueprints/core/../../temp/tessdata/eng.traineddata
2025-05-31 04:10:44,545 - file_processor - INFO - OCR environment initialized with TESSDATA_PREFIX=/workspace/modules/temp/tessdata
2025-05-31 04:10:44,545 - file_processor - INFO - OCR environment initialized with TESSDATA_PREFIX=/workspace/modules/temp/tessdata
2025-05-31 04:10:44,546 - blueprints.core.structify_integration - INFO - Initialized structify OCR environment
2025-05-31 04:10:44,546 - file_processor - INFO - Successfully patched pytesseract to use temp directory: /workspace/modules/blueprints/core/../../temp
2025-05-31 04:10:44,546 - file_processor - INFO - Successfully patched pytesseract to use temp directory: /workspace/modules/blueprints/core/../../temp
2025-05-31 04:10:44,547 - blueprints.core.structify_integration - INFO - Patched pytesseract temp directory
2025-05-31 04:10:44,547 - blueprints.core.structify_integration - INFO - Successfully loaded structify_module and components
2025-05-31 04:10:44,556 - blueprints.core.ocr_config - WARNING - pikepdf not available. Some PDF repair functions will be limited.
2025-05-31 04:10:44,561 - blueprints.core.ocr_config - INFO - Set full permissions on temp directory: /workspace/modules/temp
2025-05-31 04:10:44,562 - blueprints.core.ocr_config - INFO - Set TESSDATA_PREFIX to: /workspace/modules/temp/tessdata
2025-05-31 04:10:44,563 - blueprints.core.ocr_config - INFO - Set temp directory environment variables to: /workspace/modules/temp
2025-05-31 04:10:44,567 - blueprints.core.ocr_config - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-05-31 04:10:44,573 - blueprints.core.ocr_config - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-05-31 04:10:44,581 - blueprints.core.ocr_config - INFO - Set full permissions on temp directory: /workspace/modules/temp
2025-05-31 04:10:44,582 - blueprints.core.ocr_config - INFO - Set TESSDATA_PREFIX to: /workspace/modules/temp/tessdata
2025-05-31 04:10:44,582 - blueprints.core.ocr_config - INFO - Set temp directory environment variables to: /workspace/modules/temp
2025-05-31 04:10:44,586 - blueprints.core.ocr_config - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-05-31 04:10:44,587 - blueprints.core.ocr_config - INFO - Successfully imported pdf_extractor module
2025-05-31 04:10:44,588 - INFO - Initializing PDF extractor module...
2025-05-31 04:10:44,588 - pdf_extractor - INFO - Initializing PDF extractor module...
2025-05-31 04:10:44,591 - blueprints.core.ocr_config - ERROR - Error initializing PDF extractor: name 'JAVA_AVAILABLE' is not defined
2025-05-31 04:10:44,603 - safe_ocr_handler - INFO - Set TESSDATA_PREFIX to: /workspace/modules/temp/tessdata
2025-05-31 04:10:44,606 - safe_ocr_handler - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-05-31 04:10:44,607 - safe_ocr_handler - WARNING - Tesseract executable not found at: C:\Program Files\Tesseract-OCR\tesseract.exe
2025-05-31 04:10:44,607 - safe_ocr_handler - INFO - Successfully patched pytesseract for better temp file handling
2025-05-31 04:10:44,903 - safe_ocr_handler - INFO - Started periodic cleanup service for /workspace/modules/temp
2025-05-31 04:10:44,912 - safe_ocr_handler - INFO - Set TESSDATA_PREFIX to: /workspace/modules/temp/tessdata
2025-05-31 04:10:44,916 - safe_ocr_handler - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-05-31 04:10:44,919 - blueprints.core.ocr_config - INFO - OCR environment set up with temp directory: /workspace/modules/temp
2025-05-31 04:10:44,921 - safe_ocr_handler - WARNING - Tesseract executable not found at: C:\Program Files\Tesseract-OCR\tesseract.exe
2025-05-31 04:10:44,922 - safe_ocr_handler - INFO - Successfully patched pytesseract for better temp file handling
2025-05-31 04:10:45,316 - safe_ocr_handler - INFO - Started periodic cleanup service for /workspace/modules/temp
2025-05-31 04:10:45,316 - blueprints.core.ocr_config - INFO - OCR handler initialized successfully
2025-05-31 04:10:45,322 - blueprints.core.ocr_config - INFO - Confirmed eng.traineddata exists at: /workspace/modules/temp/tessdata/eng.traineddata
2025-05-31 04:10:45,650 - structify_import - INFO - Successfully imported claude.py module from Structify package
2025-05-31 04:10:45,650 - INFO - Claude module is available for processing
2025-05-31 04:10:45,650 - web_scraper - INFO - Claude module is available for processing
2025-05-31 04:10:45,651 - INFO - PDF extractor module is available
2025-05-31 04:10:45,651 - web_scraper - INFO - PDF extractor module is available
2025-05-31 04:10:47,545 - blueprints.features.file_utils - WARNING - python-magic not available. Try installing python-magic-bin on Windows
2025-05-31 04:10:47,575 - blueprints.core.services - INFO - Loaded 1 API keys
2025-05-31 04:10:47,586 - socketio_context_helper - INFO - SocketIO context helper initialized
2025-05-31 04:10:47,749 - app - INFO - All blueprints registered successfully
2025-05-31 04:10:47,750 - blueprints.socketio_events - INFO - SocketIO events registered successfully
2025-05-31 04:10:47,751 - app - INFO - NeuroGen Server application created successfully
2025-05-31 04:10:47,751 - app - INFO - Starting NeuroGen Server on 127.0.0.1:5025
2025-05-31 04:10:47,752 - app - INFO - Debug mode: False
2025-05-31 04:11:08,941 - blueprints.core.services - INFO - BaseTask 20b91ef8-8710-4b9c-bc50-0977a07f8a80 (playlist_processing) created.
2025-05-31 04:11:08,942 - blueprints.features.playlist_downloader - ERROR - Failed to start playlist task: name 'YOUTUBE_API_KEY' is not defined
Traceback (most recent call last):
  File "/workspace/modules/blueprints/features/playlist_downloader.py", line 142, in start_playlists
    playlist_task = PlaylistTask(task_id)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/modules/blueprints/core/services.py", line 1980, in __init__
    self.api_key = YOUTUBE_API_KEY
                   ^^^^^^^^^^^^^^^
NameError: name 'YOUTUBE_API_KEY' is not defined
